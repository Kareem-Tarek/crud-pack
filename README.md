# CRUD Pack

CRUD Pack is a **blueprint-first Laravel CRUD generator** that allows developers to scaffold complete CRUD resources (Web or API) using a single Artisan command, while strictly following Laravel conventions.

It is designed to eliminate repetitive boilerplate **without hiding logic**, **without magic**, and **without locking developers into abstractions**. Everything generated by CRUD Pack is readable, editable, and intended to be owned and customized by the developer.

CRUD Pack includes first-class support for:

- Soft deletes
- Bulk operations
- Deleted listings
- Restore workflows
- Force-delete workflows

All delete-related behavior is implemented in a **shared, reusable way**, ensuring consistency across the entire application.

---

## Why CRUD Pack Exists

Most Laravel CRUD generators fall into one of two categories:

1. **Overly magical generators**  
   These hide logic, abstract behavior too aggressively, and make customization difficult.

2. **Minimal stub generators**  
   These save very little time and leave all real-world concerns to the developer.

CRUD Pack intentionally sits between these two extremes.

It generates a **complete, real-world CRUD blueprint** that:

- Follows Laravel conventions strictly
- Handles real application needs (soft deletes, bulk actions, restore flows)
- Keeps all logic explicit and visible
- Encourages customization instead of hiding behavior

The goal is **speed without sacrificing control**.

---

## Requirements

- **PHP:** 8.0 or higher
- **Laravel:** 8.x and above  
  - Developed and tested on **Laravel 11 and Laravel 12**
  - Fully compatible with Laravel 8+

---

## Installation

```bash
composer require kareemtarek/crud-pack
```

## Lets jump into the package instructions ⤵︎

## Core Concept
CRUD Pack is centered around one single Artisan command and one resource name.

From that resource name, CRUD Pack automatically derives everything else according to Laravel conventions, including:
- Model names
- Table names
- Controller classes
- Route URIs and route names
- View directories
- Variable names

This guarantees:
- Consistency across the application
- Predictable structure
- Zero naming ambiguity
---
## Command Overview
```bash
php artisan crud:make ResourceName
```
This command always generates a "controller" (wether web or api) and can optionally generate:
- Routes
- Eloquent model
- Migration
- Request validation
- Policy
- Blade views (Web controllers only)

The command requires two mandatory decisions and supports optional generators through flags or an interactive wizard.

---
## Resource Name Rules
The resource name is the foundation of everything CRUD Pack generates and must strictly follow Laravel conventions.

### Rules
- Must be singular
- Must be StudlyCase
- Must NOT include suffixes like Controller, Model, Request, etc.

### Valid Examples ✅
```bash
php artisan crud:make Category
php artisan crud:make Product
php artisan crud:make ProductCategory

```
### Invalid Examples ❌
```bash
php artisan crud:make categories
php artisan crud:make category
php artisan crud:make product_categories

```
From this single resource name, CRUD Pack dynamically derives:
| Item              | Result                                              |
|-------------------|-----------------------------------------------------|
| Model             | ``` App\Models\Category ```                         |
| Table             | ``` categories ```                                  |
| Controller (Web)  | ``` App\Http\Controllers\CategoryController ```     |
| Controller (API)  | ``` App\Http\Controllers\Api\CategoryController ``` |
| Route URI         | ``` /categories ```                                 |
| Route names       | ``` categories.* ```                                |
| Variables         | ``` $category, $categories ```                      |
| Views folder      | ``` resources/views/categories ```                  |
---
## Mandatory Decisions (Always Required)
Every execution of the command requires **two mandatory decisions**.
These are **never optional** and must be resolved before generation proceeds.

### 1) Controller Type

Choose exactly one:
- --web → Web controller (Blade views, redirects, sessions)
- --api → API controller (JSON responses only)

### 2) Soft Delete Mode

Choose exactly one:
- --soft-deletes
- --no-soft-deletes

These decisions can be passed as flags or selected interactively.

### Example
```bash
php artisan crud:make Category --web --soft-deletes
```
If either decision is missing, CRUD Pack will prompt the developer to choose.

---
## Optional Generators
In addition to the controller (which is always generated), CRUD Pack can optionally generate:
| Option              | Description                                                       |
|---------------------|-------------------------------------------------------------------|
| ``` --routes ```    | Append routes to ``` routes/web.php ``` or ``` routes/api.php ``` |
| ``` --model ```     | Generate an Eloquent model                                        |
| ``` --migration ``` | Generate a migration                                              |
| ``` --request ```   | Generate a single FormRequest (used for store & update)           |
| ``` --policy ```    | Generate a policy and wire authorization                          |
| ``` --views ```     | Generate Blade views (Web only)                                   |
---
## The --all Shortcut
CRUD Pack provides a convenience shortcut:
```bash
php artisan crud:make Category --web --soft-deletes --all
```
### Behavior of --all
#### Web controller
- routes
- model
- migration
- request
- policy
- views

#### API controller
- routes
- model
- migration
- request
- policy
- **never generates views**

### Important Rules
- ``` --all ``` is **exclusive**
- It cannot be combined with any other generator flags
- Invalid combinations cause a **hard error** and stop execution
---
## Wizard Mode (Interactive Prompts)
If the developer:
- does not pass ``` --all ```
- and does not explicitly pass any optional generator flags

CRUD Pack enters **wizard mode** and prompts the developer with yes/no questions:
- Generate routes?
- Generate model?
- Generate migration?
- Generate request validation?
- Generate policy?
- Generate views? (Web only)

If the controller type is API, the views prompt is **never shown**.

---
## Shared Delete-Handling Trait (Created Once Per App)
CRUD Pack uses **one shared delete-handling trait** across the entire application.

### Trait Location
```bash
app/Http/Controllers/Concerns/HandlesDeletes.php
```
### Behavior
- The trait is generated **once per Laravel application**
- On the first CRUD generation, the trait is created
- On subsequent CRUD generations:
    - The trait is detected
    - Creation is skipped
    - A message is printed indicating it already exists

This ensures:
- No duplicated delete logic
- One consistent delete blueprint
- Reusable behavior across all controllers
---
